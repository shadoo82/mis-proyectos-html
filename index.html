<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Heatmap DOM Demo</title>

<style>
    body {
        background: #0d1b26;
        font-family: Arial;
        color: white;
        margin: 0;
        padding: 20px;
    }

    .level {
        display: flex;
        align-items: center;
        height: 28px;
        margin-bottom: 2px;
        border-bottom: 1px solid rgba(255,255,255,0.04);
    }

    .price {
        width: 80px;
        text-align: right;
        font-size: 14px;
        opacity: 0.8;
        margin-right: 10px;
    }

    .heatbar {
        height: 100%;
        transition: width .2s;
    }

    .volumes {
        margin-left: 20px;
        width: 80px;
        display: flex;
        justify-content: space-between;
        opacity: 0.7;
        font-size: 13px;
    }
</style>
</head>
<body>

<h2>ðŸ”µ Heatmap Institucional (DEMO)</h2>
<p>Volumen alto = mÃ¡s rojo. Volumen bajo = verde/azul.</p>

<div id="dom"></div>

<script>
// === Demo de niveles de liquidez ===
// Cada nivel: { price, liquidity, bid, ask }
const levels = [
    { price: 52800, liquidity: 3200, bid: 120, ask: 256 },
    { price: 52780, liquidity: 2700, bid: 180, ask: 236 },
    { price: 52760, liquidity: 2400, bid: 180, ask: 231 },
    { price: 52740, liquidity: 1900, bid: 228, ask: 297 },
    { price: 52720, liquidity: 1500, bid: 223, ask: 556 },
    { price: 52700, liquidity: 1200, bid: 100, ask: 854 },
    { price: 52680, liquidity: 800,  bid: 162, ask: 757 },
    { price: 52660, liquidity: 500,  bid: 140, ask: 725 },
    { price: 52640, liquidity: 200,  bid: 124, ask: 256 },
];

// Colores segÃºn intensidad
function getColor(liq) {
    if (liq > 3000) return "red";
    if (liq > 2000) return "orange";
    if (liq > 1500) return "yellow";
    if (liq > 800)  return "lime";
    if (liq > 300)  return "#44b5ff";
    return "#555";
}

// Render
const domDiv = document.getElementById("dom");

levels.forEach(lvl => {
    const row = document.createElement("div");
    row.className = "level";

    const price = document.createElement("div");
    price.className = "price";
    price.textContent = lvl.price;

    const bar = document.createElement("div");
    bar.className = "heatbar";
    bar.style.width = (lvl.liquidity / 35) + "%";
    bar.style.background = getColor(lvl.liquidity);

    const vol = document.createElement("div");
    vol.className = "volumes";
    vol.innerHTML = `
        <span>${lvl.bid}</span>
        <span>${lvl.ask}</span>
    `;

    row.appendChild(price);
    row.appendChild(bar);
    row.appendChild(vol);

    domDiv.appendChild(row);
});
</script>

</body>
</html>
